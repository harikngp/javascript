{"ast":null,"code":"import api from './service/api';\nexport default {\n  data() {\n    return {\n      link: process.env.VUE_APP_ASSESSMENT,\n      info: [],\n      address: [],\n      dialog: false,\n      flag: true,\n      item: '',\n      hotel: {\n        manager: '',\n        customerId: '',\n        buildingNo: '',\n        street: '',\n        area: '',\n        district: '',\n        pincode: '',\n        email: ''\n      }\n    };\n  },\n\n  mounted() {\n    this.read();\n  },\n\n  methods: {\n    async read() {\n      await api.get(this.link + '/hotel/read').then(res => {\n        this.info = res.data.hotel, this.address = res.data.address, console.log(this.info);\n      });\n    },\n\n    async create() {\n      this.flag = true;\n      this.dialog = true;\n      await api.post(this.link + '/hotel/create', this.hotel).then(res => {\n        this.info = res.data, console.log(res.data);\n      });\n      this.dialog = false;\n      await this.read();\n    },\n\n    edit(item) {\n      this.flag = false;\n      this.dialog = true;\n      this.hotel = {\n        id: item.id,\n        manager: item.manager,\n        customerId: item.customer_id,\n        buildingNo: item.building_no,\n        street: item.street,\n        area: item.area,\n        district: item.district,\n        pincode: item.pincode,\n        email: item.email\n      };\n    },\n\n    async update() {\n      await api.update(this.link + '/hotel/update', this.hotel).then(res => {\n        this.info = res.data;\n      });\n      this.dialog = false;\n      await this.read(), this.flag = true;\n    },\n\n    async del(id) {\n      await api.del(this.link + '/hotel/delete/' + id);\n      await this.read();\n    },\n\n    async searching(resp) {\n      await api.post(this.link + '/hotel/search', resp).then(res => {\n        this.info = res.data;\n      });\n    },\n\n    async asc(val, item) {\n      await api.post(this.link + val, item).then(res => {\n        this.info = res.data;\n      });\n    },\n\n    async desc(val, item) {\n      await api.post(this.link + val, item).then(res => {\n        this.info = res.data;\n      });\n    }\n\n  }\n};","map":{"version":3,"mappings":"AAwHA;AAEA;EACAA;IACA;MACAC,oCADA;MAEAC,QAFA;MAGAC,WAHA;MAIAC,aAJA;MAKAC,UALA;MAMAC,QANA;MAOAC;QACAC,WADA;QAEAC,cAFA;QAGAC,cAHA;QAIAC,UAJA;QAKAC,QALA;QAMAC,YANA;QAOAC,WAPA;QAQAC;MARA;IAPA;EAkBA,CApBA;;EAsBAC;IACA;EACA,CAxBA;;EA0BAC;IAEA;MACA,yCACAC,IADA,CACAC;QACA;MACA,CAHA;IAIA,CAPA;;IASA;MACA;MACA;MACA,wDACAD,IADA,CACAC;QAAA;MAAA,CADA;MAEA;MACA;IACA,CAhBA;;IAkBAC;MACA;MACA;MACA;QACAC,WADA;QAEAb,qBAFA;QAGAC,4BAHA;QAIAC,4BAJA;QAKAC,mBALA;QAMAC,eANA;QAOAC,uBAPA;QAQAC,qBARA;QASAC;MATA;IAWA,CAhCA;;IAkCA;MACA,0DACAG,IADA,CACAC;QAAA;MAAA,CADA;MAEA;MACA,mBACA,gBADA;IAEA,CAxCA;;IA0CA;MACA;MACA;IACA,CA7CA;;IA+CA;MACA,kDACAD,IADA,CACAC;QAAA;MAAA,CADA;IAEA,CAlDA;;IAoDA;MACA,sCACAD,IADA,CACAC;QAAA;MAAA,CADA;IAEA,CAvDA;;IAyDA;MACA,sCACAD,IADA,CACAC;QAAA;MAAA,CADA;IAEA;;EA5DA;AA1BA","names":["data","link","info","address","dialog","flag","item","hotel","manager","customerId","buildingNo","street","area","district","pincode","email","mounted","methods","then","res","edit","id"],"sourceRoot":"src/components","sources":["HotelTable.vue"],"sourcesContent":["<template>\n    <v-app>\n        <SearchBar @search=\"searching\"/>\n        <v-form>\n\n<v-dialog v-model=\"dialog\" width=\"750\"> \n\n<template v-slot:activator=\"{ on, attrs }\">\n  <v-flex text-right align-right>\n    <v-btn\n      color=\"primary\"\n      v-bind=\"attrs\"\n      v-on=\"on\">\n      <v-icon>mdi-plus</v-icon>\n    </v-btn>\n  </v-flex>\n</template>\n\n<v-card class=\"white\">\n\n  <v-text-field \n    v-model=\"hotel.customerId\"\n    label=\"Customer Id\"\n    required>\n  </v-text-field>\n\n  <v-text-field \n    v-model=\"hotel.manager\"\n    label=\"Manager Name\"\n    required>\n  </v-text-field>\n\n  <v-text-field \n    v-model=\"hotel.buildingNo\"\n    label=\"Building number\"\n    required>\n  </v-text-field>\n\n  <v-text-field \n    v-model=\"hotel.street\"\n    label=\"Street\"\n    required>\n  </v-text-field>\n\n  <v-text-field \n    v-model=\"hotel.area\"\n    label=\"Area\"\n    required>\n  </v-text-field>\n\n  <v-text-field \n    v-model=\"hotel.district\"\n    label=\"District\"\n    required>\n  </v-text-field>\n\n  <v-text-field \n    v-model=\"hotel.pincode\"\n    label=\"Pincode\"\n    required>\n  </v-text-field>\n\n  <v-text-field \n    v-model=\"hotel.email\"\n    label=\"Email\"\n    required>\n  </v-text-field>\n\n  <v-btn \n    color=\"success\" \n    @click=\"create\"\n    v-if=\"flag\">\n    Submit\n  </v-btn>\n\n  <v-btn\n    color=\"success\"\n    @click=\"update\"\n    v-if=\"!flag\">\n    Edit\n  </v-btn>\n</v-card>\n</v-dialog>\n</v-form>        \n        <v-simple-table>\n            <thead>\n                <tr>\n                    <th>ID\n                        <button @click=\"asc('/hotel/asc',{item:'id'})\"><v-icon small>mdi-arrow-up</v-icon></button>\n                        <button @click=\"desc('/hotel/desc',{item:'id'})\"><v-icon small>mdi-arrow-down</v-icon></button>\n                    </th>\n                    <th>Manager\n                        <button @click=\"asc('/hotel/asc',{item:'manager'})\"><v-icon small>mdi-arrow-up</v-icon></button>\n                        <button @click=\"desc('/hotel/desc',{item:'manager'})\"><v-icon small>mdi-arrow-down</v-icon></button>\n                    </th>\n                    <th>Owner</th>\n                    <th>Address</th>\n                    <th>Email\n                      <button @click=\"asc('/hotel/asc',{item:'email'})\"><v-icon small>mdi-arrow-up</v-icon></button>\n                      <button @click=\"desc('/hotel/desc',{item:'email'})\"><v-icon small>mdi-arrow-down</v-icon></button>\n                    </th>\n                    <th>Edit</th>\n                    <th>Delete</th>\n                </tr>\n            </thead>\n            <tbody>\n                <tr v-for=\"(item,i) in info\" :key=\"i\">\n                    <td></td>\n                    <td>{{item.manager}}</td>\n                    <td></td>\n                    <td>{{`${item.building_no}, ${item.street}, ${item.area}, ${item.district}-${item.pincode}`}}</td>\n                    <td>{{item.email}}</td>\n                    <td><v-btn @click=\"edit(item)\"><v-icon small>mdi-pencil</v-icon></v-btn></td>\n                    <td><v-btn @click=\"del(item.id)\"><v-icon small>mdi-delete</v-icon></v-btn></td>\n                </tr>\n            </tbody>\n        </v-simple-table>\n    </v-app>\n</template>\n<script>\n  import api from './service/api'\n\n  export default {\n    data(){\n        return{\n            link:process.env.VUE_APP_ASSESSMENT,\n            info:[],\n            address:[],\n            dialog:false,\n            flag:true,\n            item:'',\n            hotel:{\n                manager:'',\n                customerId:'',\n                buildingNo:'',\n                street:'',\n                area:'',\n                district:'',\n                pincode:'',\n                email:''\n            }\n        }\n    },\n\n    mounted(){\n        this.read()\n    },\n\n    methods:{\n\n        async read(){\n            await api.get(this.link+'/hotel/read')\n            .then((res)=>{\n                this.info=res.data.hotel,this.address=res.data.address,console.log(this.info)\n            })\n        },\n\n        async create() {\n            this.flag=true \n            this.dialog=true\n            await api.post(this.link+'/hotel/create',this.hotel)\n            .then((res)=>{this.info=res.data,console.log(res.data)})\n            this.dialog = false;\n            await this.read()\n        },\n\n        edit(item) {\n            this.flag = false;\n            this.dialog = true;\n            this.hotel={\n              id:item.id,\n              manager:item.manager,\n              customerId:item.customer_id,\n              buildingNo:item.building_no,\n              street:item.street,\n              area:item.area,\n              district:item.district,\n              pincode:item.pincode,\n              email:item.email      \n            }\n        },\n\n        async update() {\n            await api.update(this.link+'/hotel/update',this.hotel)\n            .then((res)=>{this.info=res.data})\n            this.dialog = false;\n            await this.read(),\n            this.flag = true;\n        },\n\n        async del(id) {\n            await api.del(this.link+'/hotel/delete/'+id)\n            await this.read()\n        },\n\n      async searching(resp){\n        await api.post(this.link+'/hotel/search',resp)\n        .then((res)=>{this.info=res.data})\n      },\n\n      async asc(val,item){\n        await api.post(this.link+val,item)\n        .then((res)=>{this.info=res.data})\n      },\n\n      async desc(val,item){\n        await api.post(this.link+val,item)\n        .then((res)=>{this.info=res.data})\n      },\n\n    },\n\n  }\n</script>"]},"metadata":{},"sourceType":"module"}